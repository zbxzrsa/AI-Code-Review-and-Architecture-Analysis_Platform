# SonarQube Configuration (R-004 Mitigation - Technical Debt Management)
# 
# This configuration enables automated code quality analysis and
# technical debt tracking.
#
# Target: Code duplication < 10%, Documentation coverage > 90%

# Project identification
sonar.projectKey=ai-code-review-platform
sonar.projectName=AI Code Review Platform
sonar.projectVersion=1.0.0

# Source code locations
sonar.sources=backend,frontend/src,ai_core
sonar.tests=tests,frontend/src/__tests__

# Exclusions
sonar.exclusions=\
  **/node_modules/**,\
  **/__pycache__/**,\
  **/migrations/**,\
  **/dist/**,\
  **/build/**,\
  **/*.min.js,\
  **/*.min.css,\
  **/coverage/**,\
  **/.pytest_cache/**,\
  **/venv/**,\
  **/.venv/**

# Test exclusions
sonar.test.exclusions=\
  **/tests/**,\
  **/*_test.py,\
  **/test_*.py,\
  **/*.spec.ts,\
  **/*.test.ts,\
  **/*.test.tsx

# Coverage reports
sonar.python.coverage.reportPaths=coverage.xml
sonar.javascript.lcov.reportPaths=frontend/coverage/lcov.info
sonar.typescript.lcov.reportPaths=frontend/coverage/lcov.info

# Test reports
sonar.python.xunit.reportPath=pytest-results.xml

# Language settings
sonar.python.version=3.10,3.11
sonar.typescript.tsconfigPath=frontend/tsconfig.json

# Encoding
sonar.sourceEncoding=UTF-8

# ============================================================
# Quality Gate Thresholds (Technical Debt Targets)
# ============================================================

# Coverage thresholds
sonar.coverage.minimum=80

# Duplication thresholds (Target: < 10%)
sonar.cpd.minimumTokens=50
sonar.cpd.minimumLines=10

# Maintainability
sonar.qualitygate.wait=true

# ============================================================
# Issue severity mappings
# ============================================================

# Treat security hotspots as high priority
sonar.issue.ignore.multicriteria=e1,e2

# Ignore specific rules in test files
sonar.issue.ignore.multicriteria.e1.ruleKey=python:S101
sonar.issue.ignore.multicriteria.e1.resourceKey=**/tests/**

sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S1186
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.spec.ts

# ============================================================
# Custom rules
# ============================================================

# Python-specific settings
sonar.python.pylint.reportPath=pylint-report.txt
sonar.python.bandit.reportPaths=bandit-report.json

# TypeScript/JavaScript settings
sonar.eslint.reportPaths=frontend/eslint-report.json
