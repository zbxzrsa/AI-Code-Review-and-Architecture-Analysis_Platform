# V1 Experiment Sealed Secrets Template
# Use kubeseal to encrypt before committing
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: v1-ai-providers
  namespace: platform-v1-exp
spec:
  encryptedData:
    # Encrypted with cluster-specific key
    OPENAI_API_KEY: AgBx... # Replace with sealed value
    ANTHROPIC_API_KEY: AgBy... # Replace with sealed value
    HUGGINGFACE_TOKEN: AgBz... # Replace with sealed value
  template:
    metadata:
      name: v1-ai-providers
      namespace: platform-v1-exp
    type: Opaque
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: v1-database
  namespace: platform-v1-exp
spec:
  encryptedData:
    DATABASE_URL: AgBa... # Replace with sealed value
    REDIS_URL: AgBb... # Replace with sealed value
  template:
    metadata:
      name: v1-database
      namespace: platform-v1-exp
    type: Opaque
---
# External Secrets Operator alternative
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: v1-external-secrets
  namespace: platform-v1-exp
spec:
  refreshInterval: 1h
  secretStoreRef:
    name: vault-backend
    kind: ClusterSecretStore
  target:
    name: v1-secrets
    creationPolicy: Owner
  data:
    - secretKey: OPENAI_API_KEY
      remoteRef:
        key: secret/data/v1-exp/ai-providers
        property: openai_key
    - secretKey: ANTHROPIC_API_KEY
      remoteRef:
        key: secret/data/v1-exp/ai-providers
        property: anthropic_key
    - secretKey: DATABASE_URL
      remoteRef:
        key: secret/data/v1-exp/database
        property: url
