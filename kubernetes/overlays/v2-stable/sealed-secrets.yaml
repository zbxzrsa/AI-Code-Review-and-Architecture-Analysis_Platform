# V2 Stable Sealed Secrets Template
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: v2-ai-providers
  namespace: platform-v2-stable
spec:
  encryptedData:
    OPENAI_API_KEY: AgBx... # Replace with sealed value
    ANTHROPIC_API_KEY: AgBy...
    HUGGINGFACE_TOKEN: AgBz...
  template:
    metadata:
      name: v2-ai-providers
      namespace: platform-v2-stable
---
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: v2-external-secrets
  namespace: platform-v2-stable
spec:
  refreshInterval: 30m
  secretStoreRef:
    name: vault-backend
    kind: ClusterSecretStore
  target:
    name: v2-secrets
    creationPolicy: Owner
  data:
    - secretKey: OPENAI_API_KEY
      remoteRef:
        key: secret/data/v2-stable/ai-providers
        property: openai_key
    - secretKey: ANTHROPIC_API_KEY
      remoteRef:
        key: secret/data/v2-stable/ai-providers
        property: anthropic_key
    - secretKey: DATABASE_URL
      remoteRef:
        key: secret/data/v2-stable/database
        property: url
    - secretKey: REDIS_URL
      remoteRef:
        key: secret/data/v2-stable/cache
        property: url
