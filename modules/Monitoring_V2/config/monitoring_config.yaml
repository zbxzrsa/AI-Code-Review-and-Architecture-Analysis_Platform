# Monitoring_V2 Configuration
version: "2.0.0"
status: production

# SLO Definitions
slos:
  - name: api_availability
    type: availability
    target: 99.9
    window_days: 30

  - name: api_latency_p95
    type: latency
    target: 95.0
    latency_threshold_ms: 3000
    window_days: 30

  - name: api_latency_p99
    type: latency
    target: 99.0
    latency_threshold_ms: 5000
    window_days: 30

  - name: error_rate
    type: error_rate
    target: 98.0 # 2% error budget
    window_days: 30

# Alert Rules
alerts:
  burn_rate_1h:
    threshold: 14.4 # 14.4x burn rate exhausts budget in 1 day
    severity: critical

  burn_rate_6h:
    threshold: 6.0
    severity: warning

  error_budget_low:
    threshold: 20 # % remaining
    severity: warning

# Tracing Configuration
tracing:
  sample_rate: 0.1 # 10% sampling
  max_traces: 10000
  slow_trace_threshold_ms: 1000

# Metrics Collection
metrics:
  collection_interval_seconds: 15
  retention_days: 30
  histogram_buckets:
    - 0.005
    - 0.01
    - 0.025
    - 0.05
    - 0.1
    - 0.25
    - 0.5
    - 1
    - 2.5
    - 5
    - 10
